{
"version":3,
"file":"module$node_modules$osc$src$platforms$osc_node.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/osc/src/platforms/osc-node.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$osc$src$platforms$osc_node\"] = function(global,require,module,exports) {\nvar Buffer = require('buffer').Buffer;\n/*\n * osc.js: An Open Sound Control library for JavaScript that works in both the browser and Node.js\n *\n * Node.js transports for osc.js\n *\n * Copyright 2014-2016, Colin Clark\n * Licensed under the MIT and GPL 3 licenses.\n */\n\n/*global require, module, Buffer*/\n/*jshint node:true*/\n\n(function () {\n    \"use strict\";\n\n    var shallowMerge = function (target, toMerge) {\n        target = target || {};\n        if (toMerge.forEach === undefined) {\n            toMerge = [toMerge];\n        }\n\n        toMerge.forEach(function (obj) {\n            for (var prop in obj) {\n                target[prop] = obj[prop];\n            }\n        });\n\n        return target;\n    };\n\n    var dgram = require(\"dgram\"),\n        net = require(\"net\"),\n        WebSocket = require(\"ws\"),\n        modules = [\n            require(\"../osc.js\"),\n            require(\"../osc-transports.js\"),\n            require(\"./osc-websocket-client.js\"),\n            require(\"./osc-node-serialport-loader.js\")\n        ],\n        osc = shallowMerge({}, modules);\n\n\n    /*******\n     * UDP *\n     *******/\n\n    osc.UDPPort = function (options) {\n        osc.Port.call(this, options);\n\n        this.options.localAddress = this.options.localAddress || \"127.0.0.1\";\n        this.options.localPort = this.options.localPort !== undefined ?\n            this.options.localPort : 57121;\n\n        this.options.remoteAddress = this.options.remoteAddress || \"127.0.0.1\";\n        this.options.remotePort = this.options.remotePort !== undefined ?\n            this.options.remotePort : 57121;\n\n        this.on(\"open\", this.listen.bind(this));\n\n        this.socket = options.socket;\n        if (this.socket) {\n            this.emit(\"open\", this.socket);\n        }\n    };\n\n    var p = osc.UDPPort.prototype = Object.create(osc.Port.prototype);\n    p.constructor = osc.UDPPort;\n\n    p.open = function () {\n        var that = this;\n\n        if (this.socket) {\n            return;\n        }\n\n        this.socket = dgram.createSocket(\"udp4\");\n\n        this.socket.on(\"error\", function (error) {\n            that.emit(\"error\", error);\n        });\n\n        function onBound() {\n            osc.UDPPort.setupMulticast(that);\n\n            if (that.options.broadcast) {\n                that.socket.setBroadcast(that.options.broadcast);\n            }\n\n            that.emit(\"open\", that.socket);\n        }\n\n        this.socket.bind(this.options.localPort, this.options.localAddress, onBound);\n    };\n\n    p.listen = function () {\n        if (!this.socket) {\n            return;\n        }\n\n        var that = this;\n        this.socket.on(\"message\", function (msg, rinfo) {\n            that.emit(\"data\", msg, rinfo);\n        });\n\n        this.socket.on(\"close\", function () {\n            that.emit(\"close\");\n        });\n\n        that.emit(\"ready\");\n    };\n\n    p.sendRaw = function (encoded, address, port) {\n        if (!this.socket) {\n            osc.fireClosedPortSendError(this);\n            return;\n        }\n\n        var length = encoded.byteLength !== undefined ? encoded.byteLength : encoded.length,\n            that = this;\n\n        address = address || this.options.remoteAddress;\n        port = port !== undefined ? port : this.options.remotePort;\n\n        this.socket.send(encoded, 0, length, port, address, function (err) {\n            if (err) {\n                that.emit(\"error\", err);\n            }\n        });\n    };\n\n    p.close = function () {\n        if (this.socket) {\n            this.socket.close();\n        }\n    };\n\n    osc.UDPPort.setupMulticast = function (that) {\n        if (that.options.multicastTTL !== undefined) {\n            that.socket.setMulticastTTL(that.options.multicastTTL);\n        }\n\n        if (that.options.multicastMembership) {\n            if (typeof that.options.multicastMembership === \"string\") {\n                that.options.multicastMembership = [that.options.multicastMembership];\n            }\n\n            that.options.multicastMembership.forEach(function (addr) {\n                if (typeof addr === \"string\") {\n                  that.socket.addMembership(addr);\n                } else {\n                  that.socket.addMembership(addr.address, addr.interface);\n                }\n            });\n        }\n    };\n\n\n    /*******\n     * TCP *\n     *******/\n\n    osc.TCPSocketPort = function (options) {\n        osc.SLIPPort.call(this, options);\n\n        var o = this.options;\n\n        // Aliases \"localAddress\" and \"localPort\" to\n        // \"address\" and \"port\", respectively, for consistency\n        // with osc.UDPSocket.\n        o.address = o.address || o.localAddress || \"127.0.0.1\";\n        o.port = o.port !== undefined ? o.port :\n            o.localPort !== undefined ? o.localPort : 57121;\n\n        this.on(\"open\", this.listen.bind(this));\n        this.socket = options.socket;\n\n        if (this.socket) {\n            this.emit(\"open\", this.socket);\n        }\n    };\n\n    p = osc.TCPSocketPort.prototype = Object.create(osc.SLIPPort.prototype);\n    p.constructor = osc.TCPSocketPort;\n\n    p.open = function (address, port) {\n        var o = this.options;\n        address = address || o.address;\n        port = port !== undefined ? port : o.port;\n\n        if (!this.socket) {\n            this.socket = net.connect({\n                port: port,\n                host: address\n            });\n        } else {\n            this.socket.connect(port, address);\n        }\n\n        this.emit(\"open\", this.socket);\n    };\n\n    p.listen = function () {\n        var that = this;\n        this.socket.on(\"data\", function (msg) {\n            that.emit(\"data\", msg, undefined);\n        });\n\n        this.socket.on(\"error\", function (err) {\n            that.emit(\"error\", err);\n        });\n\n        this.socket.on(\"close\", function (hadError) {\n            that.emit(\"close\", hadError);\n        });\n\n        this.socket.on(\"connect\", function () {\n            that.emit(\"ready\");\n        });\n    };\n\n    p.sendRaw = function (encoded) {\n        if (!this.socket) {\n            return;\n        }\n\n        encoded = Buffer.from(encoded);\n\n        try {\n            this.socket.write(encoded);\n        } catch (err) {\n            this.emit(\"error\", err);\n        }\n    };\n\n    p.close = function () {\n        this.socket.end();\n    };\n\n\n    module.exports = osc;\n}());\n\n};"],
"names":["shadow$provide","global","require","module","exports","Buffer","dgram","net","osc","shallowMerge","target","toMerge","undefined","forEach","obj","prop","modules","UDPPort","osc.UDPPort","options","Port","call","localAddress","localPort","remoteAddress","remotePort","on","listen","bind","socket","emit","p","prototype","Object","create","constructor","open","p.open","that","createSocket","error","onBound","setupMulticast","broadcast","setBroadcast","p.listen","msg","rinfo","sendRaw","p.sendRaw","encoded","address","port","length","byteLength","send","err","fireClosedPortSendError","close","p.close","osc.UDPPort.setupMulticast","multicastTTL","setMulticastTTL","multicastMembership","addr","addMembership","interface","TCPSocketPort","osc.TCPSocketPort","SLIPPort","o","connect","host","hadError","from","write","end"]
}
