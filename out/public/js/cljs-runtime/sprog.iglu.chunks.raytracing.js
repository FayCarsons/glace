goog.provide('sprog.iglu.chunks.raytracing');
sprog.iglu.chunks.raytracing.ray_chunk = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"structs","structs",-233241972),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"dir","dir",-919681108,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null)], null)], null);
sprog.iglu.chunks.raytracing.plane_intersection_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findPlaneIntersection","findPlaneIntersection",2015932302,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null)], null),new cljs.core.Symbol(null,"float","float",-91857841,null)),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"planeRay","planeRay",637586802,null)], null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"planeRay.pos","planeRay.pos",1934392160,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null)),new cljs.core.Symbol(null,"planeRay.dir","planeRay.dir",622824203,null)),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null),new cljs.core.Symbol(null,"planeRay.dir","planeRay.dir",622824203,null))))], null)], null)], null)], 0));
sprog.iglu.chunks.raytracing.sphere_intersection_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findSphereIntersections","findSphereIntersections",611146784,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"vec2","vec2",878272887,null)),cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"sphereCenter","sphereCenter",-1336430058,null),new cljs.core.Symbol(null,"sphereRadius","sphereRadius",156095293,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),new cljs.core.Symbol(null,"sphereCenter","sphereCenter",-1336430058,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"halfB","halfB",-322712728,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"c","c",-122660552,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"sphereRadius","sphereRadius",156095293,null),new cljs.core.Symbol(null,"sphereRadius","sphereRadius",156095293,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"discriminant","discriminant",-1792754285,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"halfB","halfB",-322712728,null),new cljs.core.Symbol(null,"halfB","halfB",-322712728,null)),new cljs.core.Symbol(null,"c","c",-122660552,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"discriminant","discriminant",-1792754285,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"discriminantSqrt","discriminantSqrt",1993403284,null),cljs.core.list(new cljs.core.Symbol(null,"sqrt","sqrt",370479598,null),new cljs.core.Symbol(null,"discriminant","discriminant",-1792754285,null))),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"halfB","halfB",-322712728,null),new cljs.core.Symbol(null,"discriminantSqrt","discriminantSqrt",1993403284,null)),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"halfB","halfB",-322712728,null),new cljs.core.Symbol(null,"discriminantSqrt","discriminantSqrt",1993403284,null)))))),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),(0)))], null)], null)], null)], 0));
sprog.iglu.chunks.raytracing.box_intersection_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"structs","structs",-233241972),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"BoxIntersection","BoxIntersection",-1591343978,null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"hit","hit",-745178387,null),new cljs.core.Symbol(null,"bool","bool",-1209800448,null),new cljs.core.Symbol(null,"frontDist","frontDist",-1164402241,null),new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"backDist","backDist",-465237186,null),new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"frontNorm","frontNorm",-238795744,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null)], null),new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findBoxIntersection","findBoxIntersection",2147436749,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null),new cljs.core.Symbol(null,"BoxIntersection","BoxIntersection",-1591343978,null)),cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"size","size",-1555742762,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"m","m",-1021758608,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),(1),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"n","n",-2092305744,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"m","m",-1021758608,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),new cljs.core.Symbol(null,"pos","pos",775924307,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"k","k",-505765866,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),cljs.core.list(new cljs.core.Symbol(null,"abs","abs",1394505050,null),new cljs.core.Symbol(null,"m","m",-1021758608,null)),new cljs.core.Symbol(null,"size","size",-1555742762,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"t1","t1",1665503971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"n","n",-2092305744,null),new cljs.core.Symbol(null,"k","k",-505765866,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"t2","t2",891676305,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"k","k",-505765866,null),new cljs.core.Symbol(null,"n","n",-2092305744,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"tN","tN",-283329913,null),cljs.core.list(new cljs.core.Symbol(null,"max","max",1701898075,null),cljs.core.list(new cljs.core.Symbol(null,"max","max",1701898075,null),new cljs.core.Symbol(null,"t1.x","t1.x",-1466379349,null),new cljs.core.Symbol(null,"t1.y","t1.y",1694711884,null)),new cljs.core.Symbol(null,"t1.z","t1.z",-502589499,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"tF","tF",635064973,null),cljs.core.list(new cljs.core.Symbol(null,"min","min",2085523049,null),cljs.core.list(new cljs.core.Symbol(null,"min","min",2085523049,null),new cljs.core.Symbol(null,"t2.x","t2.x",-436757108,null),new cljs.core.Symbol(null,"t2.y","t2.y",-1242441050,null)),new cljs.core.Symbol(null,"t2.z","t2.z",-721876777,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"||","||",1432830790,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"tN","tN",-283329913,null),new cljs.core.Symbol(null,"tF","tF",635064973,null)),cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"tF","tF",635064973,null),(0))),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"BoxIntersection","BoxIntersection",-1591343978,null),"false",(0),(0),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))))),cljs.core.list(new cljs.core.Symbol(null,"BoxIntersection","BoxIntersection",-1591343978,null),"true",new cljs.core.Symbol(null,"tN","tN",-283329913,null),new cljs.core.Symbol(null,"tF","tF",635064973,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),cljs.core.list(new cljs.core.Symbol(null,"sign","sign",-1392714102,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null)),cljs.core.list(new cljs.core.Symbol(null,"step","step",-1365547645,null),new cljs.core.Symbol(null,"t1.yzx","t1.yzx",-1612768211,null),new cljs.core.Symbol(null,"t1.xyz","t1.xyz",-383571047,null)),cljs.core.list(new cljs.core.Symbol(null,"step","step",-1365547645,null),new cljs.core.Symbol(null,"t1.zxy","t1.zxy",174319316,null),new cljs.core.Symbol(null,"t1.xyz","t1.xyz",-383571047,null))))))], null)], null)], null)], 0));
sprog.iglu.chunks.raytracing.plane_sdf_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"sdPlane","sdPlane",1874726649,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null)], null),new cljs.core.Symbol(null,"float","float",-91857841,null)),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"planeRay","planeRay",637586802,null)], null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"planeRay.pos","planeRay.pos",1934392160,null),new cljs.core.Symbol(null,"pos","pos",775924307,null)),new cljs.core.Symbol(null,"planeRay.dir","planeRay.dir",622824203,null)))], null)], null)], null)], 0));
sprog.iglu.chunks.raytracing.raymarch_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"macros","macros",811339431),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"raymarch","raymarch",1215970323,null),(function() { 
var G__31324__delegate = function (sdf_name,ray,maxDistance,p__31216){
var vec__31217 = p__31216;
var map__31220 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31217,(0),null);
var map__31220__$1 = cljs.core.__destructure_map(map__31220);
var step_factor = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31220__$1,new cljs.core.Keyword(null,"step-factor","step-factor",-417057371),(1));
var max_steps = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31220__$1,new cljs.core.Keyword(null,"max-steps","max-steps",1553604741),(1024));
var termination_threshold = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31220__$1,new cljs.core.Keyword(null,"termination-threshold","termination-threshold",-127100719),1.0E-4);
var fn_name = cljs.core.gensym.cljs$core$IFn$_invoke$arity$1(new cljs.core.Symbol(null,"march","march",-1868503164,null));
return clojure.walk.prewalk_replace(new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"G__31224","G__31224",344051738),fn_name,new cljs.core.Keyword(null,"G__31225","G__31225",-1004863485),["for(int i=0;i<",cljs.core.str.cljs$core$IFn$_invoke$arity$1(max_steps),";i++)"].join(''),new cljs.core.Keyword(null,"G__31226","G__31226",1542201366),sdf_name,new cljs.core.Keyword(null,"G__31227","G__31227",-803727097),termination_threshold,new cljs.core.Keyword(null,"G__31228","G__31228",1405195745),step_factor,new cljs.core.Keyword(null,"G__31229","G__31229",1369213820),(new cljs.core.List(null,fn_name,(new cljs.core.List(null,ray,(new cljs.core.List(null,maxDistance,null,(1),null)),(2),null)),(3),null))], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"chunk","chunk",-1191159620),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"G__31224","G__31224",344051738),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"float","float",-91857841,null)),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"maxDistance","maxDistance",-1107022194,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"t","t",242699008,null),(0)),cljs.core.list(new cljs.core.Keyword(null,"G__31225","G__31225",-1004863485),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"distanceEstimate","distanceEstimate",1104654425,null),cljs.core.list(new cljs.core.Keyword(null,"G__31226","G__31226",1542201366),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"t","t",242699008,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),cljs.core.list(new cljs.core.Symbol(null,"abs","abs",1394505050,null),new cljs.core.Symbol(null,"distanceEstimate","distanceEstimate",1104654425,null)),new cljs.core.Keyword(null,"G__31227","G__31227",-803727097)),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),new cljs.core.Symbol(null,"t","t",242699008,null))),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"distanceEstimate","distanceEstimate",1104654425,null),new cljs.core.Keyword(null,"G__31228","G__31228",1405195745))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"t","t",242699008,null),new cljs.core.Symbol(null,"maxDistance","maxDistance",-1107022194,null)),"break")),(-1))], null)], null)], null),new cljs.core.Keyword(null,"expression","expression",202311876),new cljs.core.Keyword(null,"G__31229","G__31229",1369213820)], null));
};
var G__31324 = function (sdf_name,ray,maxDistance,var_args){
var p__31216 = null;
if (arguments.length > 3) {
var G__31328__i = 0, G__31328__a = new Array(arguments.length -  3);
while (G__31328__i < G__31328__a.length) {G__31328__a[G__31328__i] = arguments[G__31328__i + 3]; ++G__31328__i;}
  p__31216 = new cljs.core.IndexedSeq(G__31328__a,0,null);
} 
return G__31324__delegate.call(this,sdf_name,ray,maxDistance,p__31216);};
G__31324.cljs$lang$maxFixedArity = 3;
G__31324.cljs$lang$applyTo = (function (arglist__31329){
var sdf_name = cljs.core.first(arglist__31329);
arglist__31329 = cljs.core.next(arglist__31329);
var ray = cljs.core.first(arglist__31329);
arglist__31329 = cljs.core.next(arglist__31329);
var maxDistance = cljs.core.first(arglist__31329);
var p__31216 = cljs.core.rest(arglist__31329);
return G__31324__delegate(sdf_name,ray,maxDistance,p__31216);
});
G__31324.cljs$core$IFn$_invoke$arity$variadic = G__31324__delegate;
return G__31324;
})()
], null)], null)], 0));
sprog.iglu.chunks.raytracing.create_sdf_normal_chunk = (function sprog$iglu$chunks$raytracing$create_sdf_normal_chunk(var_args){
var args__5772__auto__ = [];
var len__5766__auto___31330 = arguments.length;
var i__5767__auto___31331 = (0);
while(true){
if((i__5767__auto___31331 < len__5766__auto___31330)){
args__5772__auto__.push((arguments[i__5767__auto___31331]));

var G__31332 = (i__5767__auto___31331 + (1));
i__5767__auto___31331 = G__31332;
continue;
} else {
}
break;
}

var argseq__5773__auto__ = ((((1) < args__5772__auto__.length))?(new cljs.core.IndexedSeq(args__5772__auto__.slice((1)),(0),null)):null);
return sprog.iglu.chunks.raytracing.create_sdf_normal_chunk.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__5773__auto__);
});

(sprog.iglu.chunks.raytracing.create_sdf_normal_chunk.cljs$core$IFn$_invoke$arity$variadic = (function (sdf_name,p__31237){
var vec__31239 = p__31237;
var map__31242 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31239,(0),null);
var map__31242__$1 = cljs.core.__destructure_map(map__31242);
var sample_distance = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31242__$1,new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),0.001);
var fn_name = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31242__$1,new cljs.core.Keyword(null,"fn-name","fn-name",-766594004),new cljs.core.Symbol(null,"sdfNorm","sdfNorm",1528469332,null));
return clojure.walk.postwalk_replace(new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),sample_distance,new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),sdf_name,new cljs.core.Keyword(null,"fn-name","fn-name",-766594004),fn_name], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"fn-name","fn-name",-766594004),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"pos","pos",775924307,null)], null),cljs.core.list(new cljs.core.Symbol(null,"normalize","normalize",-263858524,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),(0),(0)))),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),(0),(0))))),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),(0)))),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687),(0))))),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),(0),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687)))),cljs.core.list(new cljs.core.Keyword(null,"sdf-name","sdf-name",1744242429),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),(0),new cljs.core.Keyword(null,"sample-distance","sample-distance",-1440908687))))))))], null)], null)], null));
}));

(sprog.iglu.chunks.raytracing.create_sdf_normal_chunk.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(sprog.iglu.chunks.raytracing.create_sdf_normal_chunk.cljs$lang$applyTo = (function (seq31234){
var G__31235 = cljs.core.first(seq31234);
var seq31234__$1 = cljs.core.next(seq31234);
var self__5751__auto__ = this;
return self__5751__auto__.cljs$core$IFn$_invoke$arity$variadic(G__31235,seq31234__$1);
}));

sprog.iglu.chunks.raytracing.perspective_camera_chunk = sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"cameraRay","cameraRay",1914549160,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"vec2","vec2",878272887,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null)),cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"screenPos","screenPos",-669665681,null),new cljs.core.Symbol(null,"camTarget","camTarget",445443799,null),new cljs.core.Symbol(null,"camPos","camPos",-1019149333,null),new cljs.core.Symbol(null,"focalDist","focalDist",1244488876,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"camDir","camDir",394030021,null),cljs.core.list(new cljs.core.Symbol(null,"normalize","normalize",-263858524,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"camTarget","camTarget",445443799,null),new cljs.core.Symbol(null,"camPos","camPos",-1019149333,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"camRight","camRight",-682828807,null),cljs.core.list(new cljs.core.Symbol(null,"normalize","normalize",-263858524,null),cljs.core.list(new cljs.core.Symbol(null,"cross","cross",1835089316,null),new cljs.core.Symbol(null,"camDir","camDir",394030021,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),(1),(0))))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"camUp","camUp",1858297936,null),cljs.core.list(new cljs.core.Symbol(null,"cross","cross",1835089316,null),new cljs.core.Symbol(null,"camRight","camRight",-682828807,null),new cljs.core.Symbol(null,"camDir","camDir",394030021,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"filmPos","filmPos",323300308,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"camDir","camDir",394030021,null),new cljs.core.Symbol(null,"focalDist","focalDist",1244488876,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"screenPos.x","screenPos.x",1393732711,null),0.5),new cljs.core.Symbol(null,"camRight","camRight",-682828807,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"screenPos.y","screenPos.y",-375580653,null),0.5),new cljs.core.Symbol(null,"camUp","camUp",1858297936,null)))),cljs.core.list(new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"camPos","camPos",-1019149333,null),cljs.core.list(new cljs.core.Symbol(null,"normalize","normalize",-263858524,null),new cljs.core.Symbol(null,"filmPos","filmPos",323300308,null))))], null)], null)], null)], 0));
sprog.iglu.chunks.raytracing.get_voxel_intersection_chunk = (function sprog$iglu$chunks$raytracing$get_voxel_intersection_chunk(var_args){
var args__5772__auto__ = [];
var len__5766__auto___31333 = arguments.length;
var i__5767__auto___31334 = (0);
while(true){
if((i__5767__auto___31334 < len__5766__auto___31333)){
args__5772__auto__.push((arguments[i__5767__auto___31334]));

var G__31335 = (i__5767__auto___31334 + (1));
i__5767__auto___31334 = G__31335;
continue;
} else {
}
break;
}

var argseq__5773__auto__ = ((((0) < args__5772__auto__.length))?(new cljs.core.IndexedSeq(args__5772__auto__.slice((0)),(0),null)):null);
return sprog.iglu.chunks.raytracing.get_voxel_intersection_chunk.cljs$core$IFn$_invoke$arity$variadic(argseq__5773__auto__);
});

(sprog.iglu.chunks.raytracing.get_voxel_intersection_chunk.cljs$core$IFn$_invoke$arity$variadic = (function (p__31253){
var vec__31254 = p__31253;
var map__31257 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31254,(0),null);
var map__31257__$1 = cljs.core.__destructure_map(map__31257);
var max_voxel_steps = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31257__$1,new cljs.core.Keyword(null,"max-voxel-steps","max-voxel-steps",1358957337),(1000000));
var return_type = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31257__$1,new cljs.core.Keyword(null,"return-type","return-type",1172480871),new cljs.core.Symbol(null,"VoxelIntersection","VoxelIntersection",750849261,null));
var default_return_expression = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31257__$1,new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493),cljs.core.list(new cljs.core.Symbol(null,"VoxelIntersection","VoxelIntersection",750849261,null),"false",cljs.core.list(new cljs.core.Symbol(null,"ivec3","ivec3",1536276676,null),"0"),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))));
var hit_expression = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31257__$1,new cljs.core.Keyword(null,"hit-expression","hit-expression",-953819059),cljs.core.list(cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),new cljs.core.Symbol(null,"voxelIntersection","voxelIntersection",-1391035907,null))));
return sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,clojure.walk.postwalk_replace(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"max-voxel-steps","max-voxel-steps",1358957337),cljs.core.str.cljs$core$IFn$_invoke$arity$1(max_voxel_steps),new cljs.core.Keyword(null,"return-type","return-type",1172480871),return_type,new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493),default_return_expression,new cljs.core.Keyword(null,"voxel-hit-expression","voxel-hit-expression",658782718),cljs.core.concat.cljs$core$IFn$_invoke$arity$2((new cljs.core.List(null,"if",(new cljs.core.List(null,cljs.core.list(new cljs.core.Symbol(null,"voxelFilled","voxelFilled",-485191504,null),new cljs.core.Symbol(null,"voxelCoords","voxelCoords",1952851138,null)),(new cljs.core.List(null,cljs.core.list(new cljs.core.Symbol(null,"=VoxelIntersection","=VoxelIntersection",1191821227,null),new cljs.core.Symbol(null,"voxelIntersection","voxelIntersection",-1391035907,null),cljs.core.list(new cljs.core.Symbol(null,"VoxelIntersection","VoxelIntersection",750849261,null),"true",new cljs.core.Symbol(null,"voxelCoords","voxelCoords",1952851138,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null),new cljs.core.Symbol(null,"dist","dist",238694383,null))),new cljs.core.Symbol(null,"norm","norm",200407120,null))),null,(1),null)),(2),null)),(3),null)),hit_expression)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"structs","structs",-233241972),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"VoxelIntersection","VoxelIntersection",750849261,null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"hit","hit",-745178387,null),new cljs.core.Symbol(null,"bool","bool",-1209800448,null),new cljs.core.Symbol(null,"gridPos","gridPos",-806208147,null),new cljs.core.Symbol(null,"ivec3","ivec3",1536276676,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null)], null),new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findVoxelIntersection","findVoxelIntersection",-1910933467,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Keyword(null,"return-type","return-type",1172480871)),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"maxDist","maxDist",336648507,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=ivec3","=ivec3",-353001970,null),new cljs.core.Symbol(null,"voxelCoords","voxelCoords",1952851138,null),cljs.core.list(new cljs.core.Symbol(null,"ivec3","ivec3",1536276676,null),cljs.core.list(new cljs.core.Symbol(null,"floor","floor",-772394748,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"innerCoords","innerCoords",-1076676605,null),cljs.core.list(new cljs.core.Symbol(null,"fract","fract",-421196543,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null))),cljs.core.list(new cljs.core.Symbol(null,"=ivec3","=ivec3",-353001970,null),new cljs.core.Symbol(null,"step","step",-1365547645,null),cljs.core.list(new cljs.core.Symbol(null,"ivec3","ivec3",1536276676,null),cljs.core.list(new cljs.core.Symbol(null,"sign","sign",-1392714102,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"delta","delta",1749471484,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"step","step",-1365547645,null)),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"tMax","tMax",1866039850,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"delta","delta",1749471484,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"ray.dir.x","ray.dir.x",-2078929035,null),"0.0"),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"1.0",new cljs.core.Symbol(null,"innerCoords.x","innerCoords.x",198232533,null)),new cljs.core.Symbol(null,"innerCoords.x","innerCoords.x",198232533,null)),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"ray.dir.y","ray.dir.y",-1586225172,null),"0.0"),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"1.0",new cljs.core.Symbol(null,"innerCoords.y","innerCoords.y",1057030634,null)),new cljs.core.Symbol(null,"innerCoords.y","innerCoords.y",1057030634,null)),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"ray.dir.z","ray.dir.z",281064261,null),"0.0"),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"1.0",new cljs.core.Symbol(null,"innerCoords.z","innerCoords.z",557422028,null)),new cljs.core.Symbol(null,"innerCoords.z","innerCoords.z",557422028,null))))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))),cljs.core.list(new cljs.core.Symbol(null,"=int","=int",1406212928,null),new cljs.core.Symbol(null,"maxVoxelSteps","maxVoxelSteps",897212085,null),new cljs.core.Keyword(null,"max-voxel-steps","max-voxel-steps",1358957337)),cljs.core.list("for(int i=0;i<maxVoxelSteps;i++)",cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"min","min",2085523049,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"voxelCoords","voxelCoords",1952851138,null)),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null)),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null)),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"voxelCoords","voxelCoords",1952851138,null)),(1))),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null)),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"dist","dist",238694383,null),cljs.core.list(new cljs.core.Symbol(null,"max","max",1701898075,null),cljs.core.list(new cljs.core.Symbol(null,"max","max",1701898075,null),new cljs.core.Symbol(null,"t.x","t.x",893159549,null),new cljs.core.Symbol(null,"t.y","t.y",-1741765478,null)),new cljs.core.Symbol(null,"t.z","t.z",-866434542,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,"dist","dist",238694383,null),new cljs.core.Symbol(null,"maxDist","maxDist",336648507,null)),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493))),new cljs.core.Keyword(null,"voxel-hit-expression","voxel-hit-expression",658782718),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"tMax.x","tMax.x",-363709530,null),new cljs.core.Symbol(null,"tMax.y","tMax.y",-936576644,null)),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"tMax.z","tMax.z",1539229530,null),new cljs.core.Symbol(null,"tMax.x","tMax.x",-363709530,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.z","tMax.z",1539229530,null),new cljs.core.Symbol(null,"delta.z","delta.z",-1517941872,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"voxelCoords.z","voxelCoords.z",333391513,null),new cljs.core.Symbol(null,"step.z","step.z",-712941360,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),(0),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.z","step.z",-712941360,null)))))),cljs.core.list("else",cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.x","tMax.x",-363709530,null),new cljs.core.Symbol(null,"delta.x","delta.x",1620979310,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"voxelCoords.x","voxelCoords.x",465043614,null),new cljs.core.Symbol(null,"step.x","step.x",2041326286,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.x","step.x",2041326286,null))),(0),(0))))),cljs.core.list("else",cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"tMax.z","tMax.z",1539229530,null),new cljs.core.Symbol(null,"tMax.y","tMax.y",-936576644,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.z","tMax.z",1539229530,null),new cljs.core.Symbol(null,"delta.z","delta.z",-1517941872,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"voxelCoords.z","voxelCoords.z",333391513,null),new cljs.core.Symbol(null,"step.z","step.z",-712941360,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),(0),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.z","step.z",-712941360,null)))))),cljs.core.list("else",cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.y","tMax.y",-936576644,null),new cljs.core.Symbol(null,"delta.y","delta.y",691989683,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"voxelCoords.y","voxelCoords.y",-1509120719,null),new cljs.core.Symbol(null,"step.y","step.y",-1840082563,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.y","step.y",-1840082563,null))),(0)))))),new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493))], null)], null)], null))], 0));
}));

(sprog.iglu.chunks.raytracing.get_voxel_intersection_chunk.cljs$lang$maxFixedArity = (0));

/** @this {Function} */
(sprog.iglu.chunks.raytracing.get_voxel_intersection_chunk.cljs$lang$applyTo = (function (seq31249){
var self__5752__auto__ = this;
return self__5752__auto__.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq31249));
}));

sprog.iglu.chunks.raytracing.get_column_intersection_chunk = (function sprog$iglu$chunks$raytracing$get_column_intersection_chunk(var_args){
var args__5772__auto__ = [];
var len__5766__auto___31368 = arguments.length;
var i__5767__auto___31369 = (0);
while(true){
if((i__5767__auto___31369 < len__5766__auto___31368)){
args__5772__auto__.push((arguments[i__5767__auto___31369]));

var G__31370 = (i__5767__auto___31369 + (1));
i__5767__auto___31369 = G__31370;
continue;
} else {
}
break;
}

var argseq__5773__auto__ = ((((3) < args__5772__auto__.length))?(new cljs.core.IndexedSeq(args__5772__auto__.slice((3)),(0),null)):null);
return sprog.iglu.chunks.raytracing.get_column_intersection_chunk.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),argseq__5773__auto__);
});

(sprog.iglu.chunks.raytracing.get_column_intersection_chunk.cljs$core$IFn$_invoke$arity$variadic = (function (return_type,default_return_expression,hit_expression,p__31273){
var vec__31274 = p__31273;
var max_steps = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31274,(0),null);
return sprog.iglu.core.combine_chunks.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([sprog.iglu.chunks.raytracing.ray_chunk,clojure.walk.postwalk_replace(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"max-steps","max-steps",1553604741),cljs.core.str.cljs$core$IFn$_invoke$arity$1((function (){var or__5043__auto__ = max_steps;
if(cljs.core.truth_(or__5043__auto__)){
return or__5043__auto__;
} else {
return (1000000);
}
})()),new cljs.core.Keyword(null,"return-type","return-type",1172480871),return_type,new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493),default_return_expression,new cljs.core.Keyword(null,"column-hit-expression","column-hit-expression",-850805973),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"columnFilled","columnFilled",1016709215,null),new cljs.core.Symbol(null,"gridCoords","gridCoords",1653107860,null))),hit_expression)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findColumnIntersection","findColumnIntersection",2123815868,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Keyword(null,"return-type","return-type",1172480871)),cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"maxDist","maxDist",336648507,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"rayPos","rayPos",-1832955621,null),new cljs.core.Symbol(null,"ray.pos.xy","ray.pos.xy",1621031446,null)),cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"rayDir","rayDir",1664665832,null),cljs.core.list(new cljs.core.Symbol(null,"normalize","normalize",-263858524,null),new cljs.core.Symbol(null,"ray.dir.xy","ray.dir.xy",1148357573,null))),cljs.core.list(new cljs.core.Symbol(null,"=ivec2","=ivec2",-1989525716,null),new cljs.core.Symbol(null,"gridCoords","gridCoords",1653107860,null),cljs.core.list(new cljs.core.Symbol(null,"ivec2","ivec2",1788997525,null),cljs.core.list(new cljs.core.Symbol(null,"floor","floor",-772394748,null),new cljs.core.Symbol(null,"rayPos","rayPos",-1832955621,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"innerCoords","innerCoords",-1076676605,null),cljs.core.list(new cljs.core.Symbol(null,"fract","fract",-421196543,null),new cljs.core.Symbol(null,"rayPos","rayPos",-1832955621,null))),cljs.core.list(new cljs.core.Symbol(null,"=ivec2","=ivec2",-1989525716,null),new cljs.core.Symbol(null,"step","step",-1365547645,null),cljs.core.list(new cljs.core.Symbol(null,"ivec2","ivec2",1788997525,null),cljs.core.list(new cljs.core.Symbol(null,"sign","sign",-1392714102,null),new cljs.core.Symbol(null,"rayDir","rayDir",1664665832,null)))),cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"delta","delta",1749471484,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),new cljs.core.Symbol(null,"step","step",-1365547645,null)),new cljs.core.Symbol(null,"rayDir","rayDir",1664665832,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"tMax","tMax",1866039850,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"delta","delta",1749471484,null),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"rayDir.x","rayDir.x",122084159,null),"0.0"),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"1.0",new cljs.core.Symbol(null,"innerCoords.x","innerCoords.x",198232533,null)),new cljs.core.Symbol(null,"innerCoords.x","innerCoords.x",198232533,null)),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"rayDir.y","rayDir.y",-1274813650,null),"0.0"),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"1.0",new cljs.core.Symbol(null,"innerCoords.y","innerCoords.y",1057030634,null)),new cljs.core.Symbol(null,"innerCoords.y","innerCoords.y",1057030634,null))))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))),cljs.core.list(new cljs.core.Symbol(null,"=int","=int",1406212928,null),new cljs.core.Symbol(null,"maxSteps","maxSteps",-931624867,null),new cljs.core.Keyword(null,"max-steps","max-steps",1553604741)),cljs.core.list("for(int i=0;i<maxSteps;i++)",cljs.core.list(new cljs.core.Symbol(null,"=vec2","=vec2",1201686179,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"min","min",2085523049,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),new cljs.core.Symbol(null,"gridCoords","gridCoords",1653107860,null)),new cljs.core.Symbol(null,"rayPos","rayPos",-1832955621,null)),new cljs.core.Symbol(null,"rayDir","rayDir",1664665832,null)),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),cljs.core.list(new cljs.core.Symbol(null,"vec2","vec2",878272887,null),new cljs.core.Symbol(null,"gridCoords","gridCoords",1653107860,null)),(1))),new cljs.core.Symbol(null,"rayPos","rayPos",-1832955621,null)),new cljs.core.Symbol(null,"rayDir","rayDir",1664665832,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"dist","dist",238694383,null),cljs.core.list(new cljs.core.Symbol(null,"max","max",1701898075,null),new cljs.core.Symbol(null,"t.x","t.x",893159549,null),new cljs.core.Symbol(null,"t.y","t.y",-1741765478,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,"dist","dist",238694383,null),new cljs.core.Symbol(null,"maxDist","maxDist",336648507,null)),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493))),new cljs.core.Keyword(null,"column-hit-expression","column-hit-expression",-850805973),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"tMax.x","tMax.x",-363709530,null),new cljs.core.Symbol(null,"tMax.y","tMax.y",-936576644,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.x","tMax.x",-363709530,null),new cljs.core.Symbol(null,"delta.x","delta.x",1620979310,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"gridCoords.x","gridCoords.x",-1515119331,null),new cljs.core.Symbol(null,"step.x","step.x",2041326286,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.x","step.x",2041326286,null))),(0),(0)))),cljs.core.list("else",cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"tMax.y","tMax.y",-936576644,null),new cljs.core.Symbol(null,"delta.y","delta.y",691989683,null)),cljs.core.list(new cljs.core.Symbol(null,"+=","+=",1039293914,null),new cljs.core.Symbol(null,"gridCoords.y","gridCoords.y",-318987584,null),new cljs.core.Symbol(null,"step.y","step.y",-1840082563,null)),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),"0.0",cljs.core.list(new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"step.y","step.y",-1840082563,null))),(0))))),new cljs.core.Keyword(null,"default-return-expression","default-return-expression",-2068072493))], null)], null)], null))], 0));
}));

(sprog.iglu.chunks.raytracing.get_column_intersection_chunk.cljs$lang$maxFixedArity = (3));

/** @this {Function} */
(sprog.iglu.chunks.raytracing.get_column_intersection_chunk.cljs$lang$applyTo = (function (seq31265){
var G__31266 = cljs.core.first(seq31265);
var seq31265__$1 = cljs.core.next(seq31265);
var G__31267 = cljs.core.first(seq31265__$1);
var seq31265__$2 = cljs.core.next(seq31265__$1);
var G__31268 = cljs.core.first(seq31265__$2);
var seq31265__$3 = cljs.core.next(seq31265__$2);
var self__5751__auto__ = this;
return self__5751__auto__.cljs$core$IFn$_invoke$arity$variadic(G__31266,G__31267,G__31268,seq31265__$3);
}));

sprog.iglu.chunks.raytracing.capsule_intersection_chunk = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Symbol(null,"findCapsuleDist","findCapsuleDist",-580620932,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"float","float",-91857841,null)),cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"baoa","baoa",1770553848,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"rdoa","rdoa",946276691,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"oaoa","oaoa",154583222,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"a","a",-482876059,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),new cljs.core.Symbol(null,"rdoa","rdoa",946276691,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baoa","baoa",1770553848,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"c","c",-122660552,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),new cljs.core.Symbol(null,"oaoa","oaoa",154583222,null)),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baoa","baoa",1770553848,null),new cljs.core.Symbol(null,"baoa","baoa",1770553848,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null))))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),new cljs.core.Symbol(null,"b","b",-1172211299,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"a","a",-482876059,null),new cljs.core.Symbol(null,"c","c",-122660552,null)))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),cljs.core.list(new cljs.core.Symbol(null,"sqrt","sqrt",370479598,null),new cljs.core.Symbol(null,"h","h",-1544777029,null)))),new cljs.core.Symbol(null,"a","a",-482876059,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"y","y",-117328249,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"baoa","baoa",1770553848,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"t","t",242699008,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"&&","&&",-1330982734,null),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"y","y",-117328249,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"y","y",-117328249,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null))),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),new cljs.core.Symbol(null,"t","t",242699008,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"oc","oc",954787989,null),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,"<=","<=",1244895369,null),new cljs.core.Symbol(null,"y","y",-117328249,null),(0)),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null)))),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null),new cljs.core.Symbol(null,"oc","oc",954787989,null))),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"c","c",-122660552,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"oc","oc",954787989,null),new cljs.core.Symbol(null,"oc","oc",954787989,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null)))),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),new cljs.core.Symbol(null,"b","b",-1172211299,null)),new cljs.core.Symbol(null,"c","c",-122660552,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"b","b",-1172211299,null),cljs.core.list(new cljs.core.Symbol(null,"sqrt","sqrt",370479598,null),new cljs.core.Symbol(null,"h","h",-1544777029,null))))))),(-1))], null),new cljs.core.Symbol(null,"capsuleNorm","capsuleNorm",-42074951,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)),cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"pos","pos",775924307,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),cljs.core.list(new cljs.core.Symbol(null,"clamp","clamp",-850620829,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null)),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null))),(0),(1))),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null))),new cljs.core.Symbol(null,"radius","radius",-432590731,null)))], null)], null)], null);
sprog.iglu.chunks.raytracing.cylinder_intersection_chunk = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"structs","structs",-233241972),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"hit","hit",-745178387,null),new cljs.core.Symbol(null,"bool","bool",-1209800448,null),new cljs.core.Symbol(null,"dist","dist",238694383,null),new cljs.core.Symbol(null,"float","float",-91857841,null),new cljs.core.Symbol(null,"norm","norm",200407120,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null)], null)], null),new cljs.core.Keyword(null,"functions","functions",184951466),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Symbol(null,"findCylinderIntersection","findCylinderIntersection",-1014872576,null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"Ray","Ray",-1633566524,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),new cljs.core.Symbol(null,"float","float",-91857841,null)], null),new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null)),cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"ray","ray",668052110,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null)], null),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"point2","point2",-1081858117,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=vec3","=vec3",-570882786,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"ray.pos","ray.pos",-11072731,null),new cljs.core.Symbol(null,"point1","point1",-1344653787,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"k2","k2",-1225133949,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"k1","k1",-1701777341,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"k0","k0",1858782262,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null),cljs.core.list(new cljs.core.Symbol(null,"dot","dot",-1211726368,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null))),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null),new cljs.core.Symbol(null,"radius","radius",-432590731,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null))))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"k1","k1",-1701777341,null),new cljs.core.Symbol(null,"k1","k1",-1701777341,null)),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"k2","k2",-1225133949,null),new cljs.core.Symbol(null,"k0","k0",1858782262,null)))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null),"false",(0),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))))),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"h","h",-1544777029,null),cljs.core.list(new cljs.core.Symbol(null,"sqrt","sqrt",370479598,null),new cljs.core.Symbol(null,"h","h",-1544777029,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),(0),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"k1","k1",-1701777341,null),new cljs.core.Symbol(null,"h","h",-1544777029,null))),new cljs.core.Symbol(null,"k2","k2",-1225133949,null))),cljs.core.list(new cljs.core.Symbol(null,"=float","=float",-549173165,null),new cljs.core.Symbol(null,"y","y",-117328249,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"t","t",242699008,null),new cljs.core.Symbol(null,"bard","bard",1177801318,null)))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"&&","&&",-1330982734,null),cljs.core.list(new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,"t","t",242699008,null),(0)),cljs.core.list(new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"y","y",-117328249,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"y","y",-117328249,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null))),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null),"true",new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"offset","offset",1937029838,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"t","t",242699008,null),new cljs.core.Symbol(null,"ray.dir","ray.dir",1335380520,null))),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),new cljs.core.Symbol(null,"y","y",-117328249,null)),new cljs.core.Symbol(null,"baba","baba",-720690949,null))),new cljs.core.Symbol(null,"radius","radius",-432590731,null))))),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"-","-",-471816912,null),cljs.core.list(new cljs.core.Symbol(null,"if","if",1181717262,null),cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"y","y",-117328249,null),(0)),(0),new cljs.core.Symbol(null,"baba","baba",-720690949,null)),new cljs.core.Symbol(null,"baoc","baoc",-463579786,null)),new cljs.core.Symbol(null,"bard","bard",1177801318,null))),cljs.core.list("if",cljs.core.list(new cljs.core.Symbol(null,"&&","&&",-1330982734,null),cljs.core.list(new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,"t","t",242699008,null),(0)),cljs.core.list(new cljs.core.Symbol(null,"<","<",993667236,null),cljs.core.list(new cljs.core.Symbol(null,"abs","abs",1394505050,null),cljs.core.list(new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"k1","k1",-1701777341,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"k2","k2",-1225133949,null),new cljs.core.Symbol(null,"t","t",242699008,null)))),new cljs.core.Symbol(null,"h","h",-1544777029,null))),cljs.core.list(new cljs.core.Symbol(null,"return","return",-250970578,null),cljs.core.list(new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null),"true",new cljs.core.Symbol(null,"t","t",242699008,null),cljs.core.list(new cljs.core.Symbol(null,"/","/",-1371932971,null),cljs.core.list(new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"diff","diff",-518492986,null),cljs.core.list(new cljs.core.Symbol(null,"sign","sign",-1392714102,null),new cljs.core.Symbol(null,"y","y",-117328249,null))),cljs.core.list(new cljs.core.Symbol(null,"sqrt","sqrt",370479598,null),new cljs.core.Symbol(null,"baba","baba",-720690949,null)))))),cljs.core.list(new cljs.core.Symbol(null,"CylinderIntersection","CylinderIntersection",-1045335170,null),"false",(0),cljs.core.list(new cljs.core.Symbol(null,"vec3","vec3",-1537755281,null),(0))))], null)], null)], null);

//# sourceMappingURL=sprog.iglu.chunks.raytracing.js.map
