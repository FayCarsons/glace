shadow$provide.module$node_modules$osc$src$platforms$osc_websocket_client=function(global,require,module,exports){var osc=osc||require("module$node_modules$osc$src$osc");(function(){osc.WebSocket="undefined"!==typeof WebSocket?WebSocket:require("module$node_modules$ws$browser");osc.WebSocketPort=function(options){osc.Port.call(this,options);this.on("open",this.listen.bind(this));if(this.socket=options.socket)1===this.socket.readyState?(osc.WebSocketPort.setupSocketForBinary(this.socket),this.emit("open",
this.socket)):this.open()};var p=osc.WebSocketPort.prototype=Object.create(osc.Port.prototype);p.constructor=osc.WebSocketPort;p.open=function(){if(!this.socket||1<this.socket.readyState)this.socket=new osc.WebSocket(this.options.url);osc.WebSocketPort.setupSocketForBinary(this.socket);var that=this;this.socket.onopen=function(){that.emit("open",that.socket)};this.socket.onerror=function(err){that.emit("error",err)}};p.listen=function(){var that=this;this.socket.onmessage=function(e){that.emit("data",
e.data,e)};this.socket.onclose=function(e){that.emit("close",e)};that.emit("ready")};p.sendRaw=function(encoded){this.socket&&1===this.socket.readyState?this.socket.send(encoded):osc.fireClosedPortSendError(this)};p.close=function(code,reason){this.socket.close(code,reason)};osc.WebSocketPort.setupSocketForBinary=function(socket){socket.binaryType=osc.isNode?"nodebuffer":"arraybuffer"}})()}
//# sourceMappingURL=module$node_modules$osc$src$platforms$osc_websocket_client.js.map
