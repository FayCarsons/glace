{"version":3,"sources":["sprog/input/keyboard.cljs"],"mappings":"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","names":["js/sprog","js/sprog.input","js/sprog.input.keyboard","js/sprog.input.keyboard.key-callbacks","sprog.input.keyboard/key-callbacks","cljs.core.atom","js/sprog.input.keyboard.key-downs","sprog.input.keyboard/key-downs","js/sprog.input.keyboard.key-toggles","sprog.input.keyboard/key-toggles","js/sprog.input.keyboard.key-cycles","sprog.input.keyboard/key-cycles","sprog.input.keyboard/keydown","event","key","cljs.core.swap_BANG_","toggle-map","cljs.core.update","cljs.core/not","cycle-map","cycle","vec__58580","cljs.core.nth","values","index","cljs.core/mod","cljs.core/count","cljs.core/assoc","seq__58583","cljs.core/seq","chunk__58584","count__58585","i__58586","temp__5804__auto__","cljs.core/chunked-seq?","c__5565__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/first","cljs.core/next","callback","fexpr__58588","cljs.core/deref","sprog.input.keyboard/keyup","js/document.addEventListener","sprog.input.keyboard/key-down?","key-str","fexpr__58589","var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","sprog.input.keyboard/key-toggled?","p__58592","vec__58593","seq58590","G__58591","self__5751__auto__","default-value","fexpr__58596","cljs.core/boolean","fexpr__58597","sprog.input.keyboard/key-cycle","p__58601","vec__58602","seq58598","G__58599","G__58600","default-index","fexpr__58605","vec__58606","fexpr__58609","sprog.input.keyboard/add-key-callback","key-name","p1__58610#","cljs.core/update","cljs.core.conj","sprog.input.keyboard/add-num-key-callback","p__58613","vec__58614","seq58611","G__58612","num-callback","max-num","seq__58617","chunk__58618","count__58619","i__58620","vec__58627","vec__58630","name","num","cljs.core.partial","sprog.input.keyboard/add-shift-num-key-callback","p__58635","vec__58636","seq58633","G__58634","seq__58639","chunk__58640","count__58641","i__58642","vec__58649","vec__58652","sprog.input.keyboard/add-up-down-key-callback","p__58657","vec__58658","seq58655","G__58656","wasd?","sprog.input.keyboard/add-left-right-key-callback","p__58663","vec__58664","seq58661","G__58662"],"sourcesContent":["(ns sprog.input.keyboard)\n\n(defonce key-callbacks (atom {}))\n(defonce key-downs (atom {}))\n(defonce key-toggles (atom {}))\n(defonce key-cycles (atom {}))\n\n(defn keydown [event]\n  (let [key (.-key event)]\n    (swap! key-toggles\n           (fn [toggle-map]\n             (update toggle-map key not)))\n    (swap! key-cycles\n           (fn [cycle-map]\n             (update cycle-map\n                     key\n                     (fn [cycle]\n                       (when cycle\n                         (let [[values index] cycle]\n                           [values (mod (inc index) (count values))]))))))\n    (swap! key-downs assoc key true)\n    (doseq [callback (@key-callbacks key)]\n      (callback))))\n\n(defn keyup [event]\n  (let [key (.-key event)]\n    (swap! key-downs assoc key false)))\n\n(js/document.addEventListener \"keydown\" keydown)\n(js/document.addEventListener \"keyup\" keyup)\n\n(defn key-down? [key-str]\n  (@key-downs key-str))\n\n(defn key-toggled? [key-str & [default-value]]\n  (when (nil? (@key-toggles key-str))\n    (swap! key-toggles assoc key-str (boolean default-value)))\n  (@key-toggles key-str))\n\n(defn key-cycle [key-str cycle & [default-index]]\n  (when (nil? (@key-cycles key-str))\n    (swap! key-cycles assoc key-str [cycle (int default-index)]))\n  (let [[values index] (@key-cycles key-str)]\n    (values index)))\n\n(defn add-key-callback [key-name callback]\n  (swap! key-callbacks\n         update\n         key-name\n         #(conj % callback)))\n\n(defn add-num-key-callback [num-callback & [max-num]]\n  (doseq [[name num] [[\"1\" 0]\n                      [\"2\" 1]\n                      [\"3\" 2]\n                      [\"4\" 3]\n                      [\"5\" 4]\n                      [\"6\" 5]\n                      [\"7\" 6]\n                      [\"8\" 7]\n                      [\"9\" 8]\n                      [\"0\" 9]\n                      [\"-\" 10]\n                      [\"=\" 11]]]\n    (add-key-callback name (partial num-callback num))))\n\n(defn add-shift-num-key-callback [num-callback & [max-num]]\n  (doseq [[name num] [[\"!\" 0]\n                      [\"@\" 1]\n                      [\"#\" 2]\n                      [\"$\" 3]\n                      [\"%\" 4]\n                      [\"^\" 5]\n                      [\"&\" 6]\n                      [\"*\" 7]\n                      [\"(\" 8]\n                      [\")\" 9]\n                      [\"_\" 10]\n                      [\"+\" 11]]]\n    (add-key-callback name (partial num-callback num))))\n\n(defn add-up-down-key-callback [callback & [wasd?]]\n  (add-key-callback \"ArrowUp\" (partial callback 1))\n  (add-key-callback \"ArrowDown\" (partial callback -1))\n  (when wasd?\n    (add-key-callback \"w\" (partial callback 1))\n    (add-key-callback \"s\" (partial callback -1))))\n\n(defn add-left-right-key-callback [callback & [wasd?]]\n  (add-key-callback \"ArrowLeft\" (partial callback -1))\n  (add-key-callback \"ArrowRight\" (partial callback 1))\n  (when wasd?\n    (add-key-callback \"a\" (partial callback -1))\n    (add-key-callback \"d\" (partial callback 1))))\n"]}